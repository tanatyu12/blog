{"version":3,"sources":["../../../../../src/components/Collection/Entries/EntryCard.js"],"names":["ListCard","components","card","lengths","topCardWidth","ListCardLink","Link","colors","foreground","GridCard","GridCardLink","text","CollectionLabel","textLead","ListCardTitle","CardHeading","CardBody","props","hasImage","colorsRaw","white","CardImage","url","EntryCard","collection","entry","inferedFields","publicFolder","collectionLabel","viewStyle","VIEW_STYLE_LIST","label","get","title","getIn","titleField","path","image","imageField","encodeURI","VIEW_STYLE_GRID"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,QAAQ;AAAA;AAAA;AAAA,GACVC,gCAAWC,IADD,aAEHC,6BAAQC,YAFL,64IAAd;AAOA,MAAMC,YAAY,GAAG;AAAA;AAAA,wBAAOC,oBAAP;AAAA;AAAA;AAAA,EAAH,6EAKMC,4BAAOC,UALb,02IAAlB;AASA,MAAMC,QAAQ;AAAA;AAAA;AAAA,GACVR,gCAAWC,IADD,67IAAd;AASA,MAAMQ,YAAY,GAAG;AAAA;AAAA,wBAAOJ,oBAAP;AAAA;AAAA;AAAA,EAAH,8CAIMC,4BAAOC,UAJb,aAKLD,4BAAOI,IALF,82IAAlB;AASA,MAAMC,eAAe;AAAA;AAAA;AAAA,4BAEVL,4BAAOM,QAFG,s4IAArB;AAMA,MAAMC,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAnB;AAIA,MAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;AAIA,MAAMC,QAAQ;AAAA;AAAA;AAAA,qEAIKC,KAAK,IAAIA,KAAK,CAACC,QAAN,IAAkB,CAJhC,4IAeuBC,+BAAUC,KAfjC,82IAAd;AAmBA,MAAMC,SAAS;AAAA;AAAA;AAAA,4BACWJ,KAAK,IAAIA,KAAK,CAACK,GAD1B,+8IAAf;;AAQA,MAAMC,SAAS,GAAG,UAOZ;AAAA,MANJC,UAMI,QANJA,UAMI;AAAA,MALJC,KAKI,QALJA,KAKI;AAAA,MAJJC,aAII,QAJJA,aAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,eAEI,QAFJA,eAEI;AAAA,4BADJC,SACI;AAAA,MADJA,SACI,+BADQC,gCACR;AACJ,QAAMC,KAAK,GAAGN,KAAK,CAACO,GAAN,CAAU,OAAV,CAAd;AACA,QAAMC,KAAK,GAAGF,KAAK,IAAIN,KAAK,CAACS,KAAN,CAAY,CAAC,MAAD,EAASR,aAAa,CAACS,UAAvB,CAAZ,CAAvB;AACA,QAAMC,IAAI,GAAI,gBAAeZ,UAAU,CAACQ,GAAX,CAAe,MAAf,CAAuB,YAAWP,KAAK,CAACO,GAAN,CAAU,MAAV,CAAkB,EAAjF;AACA,MAAIK,KAAK,GAAGZ,KAAK,CAACS,KAAN,CAAY,CAAC,MAAD,EAASR,aAAa,CAACY,UAAvB,CAAZ,CAAZ;AACAD,EAAAA,KAAK,GAAG,oCAAYA,KAAZ,EAAmBV,YAAnB,CAAR;;AACA,MAAIU,KAAJ,EAAW;AACTA,IAAAA,KAAK,GAAGE,SAAS,CAACF,KAAD,CAAjB;AACD;;AAED,MAAIR,SAAS,KAAKC,gCAAlB,EAAmC;AACjC,WACE,6BAAC,QAAD,QACE,6BAAC,YAAD;AAAc,MAAA,EAAE,EAAEM;AAAlB,OACGR,eAAe,GAAG,6BAAC,eAAD,QAAkBA,eAAlB,CAAH,GAA0D,IAD5E,EAEE,6BAAC,aAAD,QAAgBK,KAAhB,CAFF,CADF,CADF;AAQD;;AAED,MAAIJ,SAAS,KAAKW,gCAAlB,EAAmC;AACjC,WACE,6BAAC,QAAD,QACE,6BAAC,YAAD;AAAc,MAAA,EAAE,EAAEJ;AAAlB,OACE,6BAAC,QAAD;AAAU,MAAA,QAAQ,EAAEC;AAApB,OACGT,eAAe,GAAG,6BAAC,eAAD,QAAkBA,eAAlB,CAAH,GAA0D,IAD5E,EAEE,6BAAC,WAAD,QAAcK,KAAd,CAFF,CADF,EAKGI,KAAK,GAAG,6BAAC,SAAD;AAAW,MAAA,GAAG,EAAEA;AAAhB,MAAH,GAA+B,IALvC,CADF,CADF;AAWD;AACF,CAzCD;;eA2Ced,S","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\nimport { resolvePath } from 'netlify-cms-lib-util';\nimport { colors, colorsRaw, components, lengths } from 'netlify-cms-ui-default';\nimport { VIEW_STYLE_LIST, VIEW_STYLE_GRID } from 'Constants/collectionViews';\n\nconst ListCard = styled.li`\n  ${components.card};\n  width: ${lengths.topCardWidth};\n  margin-left: 12px;\n  margin-bottom: 16px;\n`;\n\nconst ListCardLink = styled(Link)`\n  display: block;\n  max-width: 100%;\n  padding: 16px 22px;\n  &:hover {\n    background-color: ${colors.foreground};\n  }\n`;\n\nconst GridCard = styled.li`\n  ${components.card};\n  flex: 0 0 335px;\n  height: 240px;\n  overflow: hidden;\n  margin-left: 12px;\n  margin-bottom: 16px;\n`;\n\nconst GridCardLink = styled(Link)`\n  display: block;\n  &,\n  &:hover {\n    background-color: ${colors.foreground};\n    color: ${colors.text};\n  }\n`;\n\nconst CollectionLabel = styled.h2`\n  font-size: 12px;\n  color: ${colors.textLead};\n  text-transform: uppercase;\n`;\n\nconst ListCardTitle = styled.h2`\n  margin-bottom: 0;\n`;\n\nconst CardHeading = styled.h2`\n  margin: 0 0 2px;\n`;\n\nconst CardBody = styled.div`\n  padding: 16px 22px;\n  height: 90px;\n  position: relative;\n  margin-bottom: ${props => props.hasImage && 0};\n\n  &:after {\n    content: '';\n    position: absolute;\n    display: block;\n    z-index: 1;\n    bottom: 0;\n    left: -20%;\n    height: 140%;\n    width: 140%;\n    box-shadow: inset 0 -15px 24px ${colorsRaw.white};\n  }\n`;\n\nconst CardImage = styled.div`\n  background-image: url(${props => props.url});\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  height: 150px;\n`;\n\nconst EntryCard = ({\n  collection,\n  entry,\n  inferedFields,\n  publicFolder,\n  collectionLabel,\n  viewStyle = VIEW_STYLE_LIST,\n}) => {\n  const label = entry.get('label');\n  const title = label || entry.getIn(['data', inferedFields.titleField]);\n  const path = `/collections/${collection.get('name')}/entries/${entry.get('slug')}`;\n  let image = entry.getIn(['data', inferedFields.imageField]);\n  image = resolvePath(image, publicFolder);\n  if (image) {\n    image = encodeURI(image);\n  }\n\n  if (viewStyle === VIEW_STYLE_LIST) {\n    return (\n      <ListCard>\n        <ListCardLink to={path}>\n          {collectionLabel ? <CollectionLabel>{collectionLabel}</CollectionLabel> : null}\n          <ListCardTitle>{title}</ListCardTitle>\n        </ListCardLink>\n      </ListCard>\n    );\n  }\n\n  if (viewStyle === VIEW_STYLE_GRID) {\n    return (\n      <GridCard>\n        <GridCardLink to={path}>\n          <CardBody hasImage={image}>\n            {collectionLabel ? <CollectionLabel>{collectionLabel}</CollectionLabel> : null}\n            <CardHeading>{title}</CardHeading>\n          </CardBody>\n          {image ? <CardImage url={image} /> : null}\n        </GridCardLink>\n      </GridCard>\n    );\n  }\n};\n\nexport default EntryCard;\n"],"file":"EntryCard.js"}