{"version":3,"sources":["../../src/GitLabAPI.js"],"names":["API","GitlabAPI","constructor","config","req","unsentRequest","withHeaders","Authorization","tokenPromise","buildRequest","authenticateRequest","performRequest","Promise","resolve","commitAuthor","repoURL"],"mappings":";;;;;;;;;AACA;;AACA;;;;;;AAEe,MAAMA,GAAN,SAAkBC,4BAAlB,CAA4B;AACzCC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,UAAMA,MAAN;;AADkB,iDAOE,MAAMC,GAAN,IACpBC,iCAAcC,WAAd,CACE;AACEC,MAAAA,aAAa,EAAG,UAAS,MAAM,KAAKC,YAAL,EAAoB;AADrD,KADF,EAIEJ,GAJF,CARkB;;AAAA,qCAeV,MAAMA,GAAN,IACR,oBAAK,CAAC,KAAKK,YAAN,EAAoB,KAAKC,mBAAzB,EAA8C,6BAAKL,iCAAcM,cAAnB,CAA9C,CAAL,EAAwFP,GAAxF,CAhBkB;;AAAA,4CAkBH,MAAMQ,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAlBH;;AAElB,SAAKL,YAAL,GAAoBL,MAAM,CAACK,YAA3B;AACA,SAAKM,YAAL,GAAoBX,MAAM,CAACW,YAA3B;AACA,SAAKC,OAAL,GAAe,EAAf;AACD;;AANwC","sourcesContent":["import { flow } from 'lodash';\nimport { API as GitlabAPI } from 'netlify-cms-backend-gitlab';\nimport { unsentRequest, then } from 'netlify-cms-lib-util';\n\nexport default class API extends GitlabAPI {\n  constructor(config) {\n    super(config);\n    this.tokenPromise = config.tokenPromise;\n    this.commitAuthor = config.commitAuthor;\n    this.repoURL = '';\n  }\n\n  authenticateRequest = async req =>\n    unsentRequest.withHeaders(\n      {\n        Authorization: `Bearer ${await this.tokenPromise()}`,\n      },\n      req,\n    );\n\n  request = async req =>\n    flow([this.buildRequest, this.authenticateRequest, then(unsentRequest.performRequest)])(req);\n\n  hasWriteAccess = () => Promise.resolve(true);\n}\n"],"file":"GitLabAPI.js"}